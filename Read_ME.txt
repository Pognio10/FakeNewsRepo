Verione 1.0

Il Progeto Fake News Detector ha come obiettivo la definizione di un tool automatico per il rilevamento delle Fake News. 
Questo avviene attraverso 5 funzioni principali: WHO, WHAT, WHEN, WHERE, WHY e 3 HOW: 
HOW 1 - Analisi del rapporto tra Maiuscole e Minuscole nel Titolo
HOW 2 - Analisi dei riferimenti esterni ai fatti descritti nella notizia 
HOW 3 - Presenza di immagini fuorvianti

Il tool, realizzato in Python, viene lanciato grazie alla funzione principale main.py
Questa funzione ha il compito di lanciare tutte le altre funzioni del tool; nel main.py viene chiesto all'utente di inserire il link che intende verificare; questo verrà analizzato da una funzione per capire se si tratta di un link ben formattato oppure no. Grazie agli scraper web viene effettuato lo scraping della pagina web precedentemente sottomessa e viene estratto il testo normalizzato. Qui è presente una funzione che verifica se la lingua del testo estratto è in lingua inglese oppure no. Nel casso non fosse in lingua inglese il testo viene tradotto grazie alla funzione di google traduttore. 

L'obiettivo del WHO è quello di estrarre autore, titolo, testo ed immagini presenti in una notizia. A seguito dell’inserimento di un url da parte dell’utente, questo viene passato ad una funzione di nome checkURL che ne controlla il formato e notifica all’utente verificatore eventuali problemi. Dopo questa verifica, l’URL viene poi passato ad uno scraper di nome "Goose", il quale, attraverso l’analisi del codice html e xml, permette con le funzioni "cleaned_text", "title", l’estrazione del testo e del titolo in formato string. A seguito dell’estrazione del testo e del titolo si è provveduto allo scaricamento di tutte le immagini presenti nella pagina dell’url definito. Per fare ciò è stato integrato lo scraper web BeautifulSoup per lo scaricamento delle immagini ed il modulo "os" di Python per la gestione delle directory. Questa parte del codice verifica se è presente una cartella denominata "articleImage" nel path del programma e se questa è vuota. Se la cartella non esiste viene creata; in caso contrario la cartella viene svuotata dei file, eliminata, e poi creata nuovamente. Una volta creata la cartella, vengono scaricate al suo interno le immagini presenti nei tag "img" del codice html relativo all’url passato in input. La funzione termina con l’estrazione dell’autore ed assegna lo score relativo. 

L'obiettivo del WHEN è quello di estrarre date ed eventuali periodi temporali dal testo estratto. Come prima cosa, la funzione elimina i caratteri speciali presenti nel testo e successivamente estrae i periodi temporali dal testo attraverso un classificatore NLP basandosi sulle espressione temporali contenute nel dataset della libreria JodaTime e di un dataset presente nella cartella "data" della libreria stessa contenente le principali espressioni temporali prese da testi in lingua inglese e divisi in categorie richiamabili attraverso settings.
L’algoritmo sfrutta un dataset di espressioni temporali note (incluso nella libreria utilizzata) ed espressioni regolari formattate ad-hoc per il riconoscimento di date. Poichè l’estrazione dei periodi temporali include anche espressioni come "By 20 minutes", "From 12 to 20" , ecc. si sono dovuti impostare dei settings (precedentemente impostati) che escludessero questi periodi temporali per l’estrazione delle sole espressioni riportanti date. A seguito dell’estrazione, grazie al modulo Pandas, le date estratte vengono inserite in un dataframe. Le date inserite nel dataframe vengono passate in output all’utente attraverso il modulo inquirer. Se all’interno del testo sono presenti più di una data viene chiesto all’utente di selezionare la data più corretta corrispondente ai fatti dell’articolo; se non viene rilevata nessuna data, viene invece chiesto all’utente di selezionare la voce "No time Identified"
Successivamente alla scelta dell’utente, la funzione termina con l’assegnazione dello score relativo al When. 

L'obiettivo del WHAT L’obiettivo di questa funzione è quello di permettere all’utente di selezionare l’argomento più adatto per l’articolo da lui sottomesso al tool. Grazie al modulo Pandas, viene creato un dataframe contenente gli argomenti della notizia. Attraverso il modulo inquirerer, viene chiesto all’utente di selezionare l’argomento più appropriato per i fatti contenuti nell’articolo.
In seguito alla scelta dell’utente, la funzione termina con l’assegnazione dello score relativo al What nel seguente modo :
• Se non è possibile individuare un argomento per la notizia "No topic can be identified", la funzione assegna il valore 0 allo score
• Se l’argomento della notizia è "News Item" o "Scientific Publication", la funzione assegna valore 1 allo score
• Se l’argomento della notizia fa parte dei restanti argomenti selezionabili ("Dogma", "Maximum phrase", "Political propaganda", "Satire") la funzione assegna valore 0 allo score

L'obiettivo del WHERE è quello di estrarre località o luoghi di interesse dal testo estratto. Questo viene fatto grazie al modulo "Spacy", il quale permette di effettuare NLP sul testo per estrarre luoghi o località. SpaCy estrae le caratteristiche di localizzazione da documenti di testo usando il Named Entity Recognition (NER).

L'obiettivo del WHY è quello di permettere, grazie al modulo "inquirer", di selezionare una risposta alla domanda mostrata all’utente verificatore: "Does the article would like to convince you to buy some product or to change your opinion about some fact/person?" In base al tipo di risposta selezionato, la funzione termina con l’assegnazione dello score relativo al why nel seguente modo:
• Se la risposta è "Yes", la funzione assegna il valore 0 allo score 
• Se la risposta è "No", la funzione assegna il valore 1 allo score

L'obiettivo della funzione CountUpper (HOW1) è quello di verificare la percentuale tra le lettere Maiuscole e quelle minuscole presenti nel titolo della notizia. Viene assegnato il punteggio 0 nel caso questo rapporto superi il 10%, 1 alrtimenti.

L'obiettivo del Search Google (HOW2) è quello di simulare una ricerca sul motore di ricerca Google, tramite il titolo estratto precedentemente, per constatare se ci siano o meno risultati affini alla notizia data in input precedentemente. Per fare ciò viene utilizzato il modulo "googlesearch" al quale viene passato in input il title; viene poi utilizzato lo scraper web "BeautifulSoup" per estrarre i risultati (titolo e link) dalla pagina di ricerca.
Grazie al modulo Pandas viene creato un dataset contenente i link ed i titoli precedentemente estratti dalla funzione. Anche in questo caso viene chiesto all’utente di selezionare il titolo ed il link più affine alla notizia da lui sottomessa; nel caso in cui non venisse trovata nessuna notizia o non sia affine a quella sottomessa dall’utente verificatore, può selezionare la voce "No Link identified", "No Title Identified".
La funzione termina con l’assegnazione dello score relativo al searchG nel seguente modo:
• Se l’utente seleziona un link/titolo, la funzione assegna il valore 1 allo score 
• Altrimenti, la funzione assegna il valore 0 allo score

L'obiettivo della funzione ImageAnalize (HOW3) è quello di simulare una ricerca per immagini sul motore di ricerca Google per verificare se le eventuali immagini presenti nell’articolo o nella notizia sono pertinenti o meno ai fatti contenuti in essa. Le immagini prese in input sono quelle scaricate nella cartella "articleImage". Come prima cosa viene controllato se nella cartella "articleImage" sono presenti o meno delle immagini; questo viene fatto grazie al modulo "os" di Python. Successivamente, viene fatto l’encode delle immagini e viene generato l’url per effettuare la ricerca. Grazie alla libreria "Selenium", la quale istanzia un browser web "Chrome" in background, viene passato l’url del punto precedente e vengono estratte le informazioni relative alla ricerca per url delle immagini contenute nell’articolo.
Anche in questa funzione viene usato il modulo "Pandas" per creare un dataset contenente i link ed i titoli relativi alla ricerca per immagine. Per ogni immagine vengono estratte le informazioni relative alla ricerca correlata di Google tramite il tag "fKDtNb". Questo perché Google utilizza dei suoi algoritmi di intelligenza artificiale che cercano di riconoscere il contenuto delle immagini e di associargli alcune keyword per ricerche sul loro contenuto. Se vengono trovati risultati, viene chiesto all’utente di indicare o meno se l’argomento dell’articolo o della notizia si riferisce al valore della ricerca correlata estratto dall’immagine. In caso di risposta affermativa la funzione aggiorna lo score parziale delle immagini sommando il valore 1 ed aggiunge il valore 1 anche al conteggio delle immagini. Inoltre, in caso di risposta negativa, la funzione estrae i link relativi all’immagine dalla ricerca e chiede all’utente di selezionarne uno se relativo ai fatti della notizia; se non c’è nessun link relativo, l’utente selezionerà "No Link identified". Se viene scelto un link, la funzione aggiorna lo score parziale delle immagini sommando il valore 1 ed aggiunge il valore 1 anche al conteggio delle immagini; se non viene scelto un link la funzione aggiorna lo score parziale delle immagini sommando il valore 0 ed aggiunge il valore 1 al conteggio delle immagini. Questo processo viene ripetuto per ogni immagine presente nella cartella "articleImage". La funzione termina con l’assegnazione dello score relativo ad imageAnalize. 




